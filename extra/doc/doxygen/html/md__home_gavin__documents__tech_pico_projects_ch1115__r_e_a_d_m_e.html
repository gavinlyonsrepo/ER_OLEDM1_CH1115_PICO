<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ER_OLEDM1_CH1115_PICO: README</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ER_OLEDM1_CH1115_PICO
   &#160;<span id="projectnumber">1.3.3</span>
   </div>
   <div id="projectbrief">Raspberry PI PICO library for a OLED driven by CH1115 controller</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">README </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a href="https://gavinlyonsrepo.github.io/"><img src="https://img.shields.io/badge/Website-Link-blue.svg" alt="Website" style="pointer-events: none;" class="inline"/></a> <a href="https://gavinlyonsrepo.github.io//feed.xml"><img src="https://img.shields.io/badge/Subscribe-RSS-yellow.svg" alt="Rss" style="pointer-events: none;" class="inline"/></a> <a href="https://www.paypal.com/paypalme/whitelight976"><img src="https://img.shields.io/badge/Donate-PayPal-green.svg" alt="Donate" style="pointer-events: none;" class="inline"/></a></p>
<h1>ER_OLEDM1_CH1115_PICO</h1>
<p><img src="https://github.com/gavinlyonsrepo/ER_OLEDM1_CH1115/blob/main/extras/image/oled.jpg" alt=" OLED" class="inline"/></p>
<h2>Table of contents</h2>
<ul>
<li><a href="#overview">Overview</a></li>
<li><a href="#output">Output</a></li>
<li><a href="#hardware">Hardware</a></li>
<li><a href="#software">Software</a><ul>
<li><a href="#api-Documentation">API Documentation</a></li>
<li><a href="#spi">SPI</a></li>
<li><a href="#fonts">Fonts</a></li>
<li><a href="#bitmaps">Bitmaps</a></li>
</ul>
</li>
<li><a href="#file-system">File system</a></li>
</ul>
<h2>Overview</h2>
<ul>
<li>Name : ER_OLEDM1_CH1115_PICO</li>
<li>Title : Library to support the ER-OLEDM1.09-1 128X64 OLED Display Module driven by the CH1115 controller</li>
<li>Description :</li>
</ul>
<ol type="1">
<li>Raspberry pi PICO RP2040 library. <br  />
</li>
<li>Invert colour, vertical rotate, sleep, fade effect, horizontal scroll and contrast control functions supported.</li>
<li>10 ASCII fonts included.</li>
<li>Graphics support included.</li>
<li>Buffer Mode</li>
<li>Bitmaps supported.</li>
<li>Hardware SPI.</li>
<li>Polymorphic print class included to print many data types.</li>
</ol>
<ul>
<li>Author: Gavin Lyons</li>
<li>Developed on<ol type="1">
<li>Raspberry pi PICO RP2040</li>
<li>SDK C++ compiler G++ for arm-none-eabi</li>
<li>CMAKE , VScode</li>
</ol>
</li>
<li>Ported from my <a href="https://github.com/gavinlyonsrepo/ER_OLEDM1_CH1115">arduino library</a></li>
</ul>
<h2>Output</h2>
<p>Output Screenshots.</p>
<p><img src="https://github.com/gavinlyonsrepo/ER_OLEDM1_CH1115_PICO/blob/main/extra/image/all.jpg" alt=" p " class="inline"/></p>
<h2>Hardware</h2>
<p>CH1115 is a single-chip CMOS OLED driver with controller for organic light emitting diode dot-matrix graphic display system. CH1115 consists of 128 segments, 64 commons that can support a maximum display resolution of 128 X 64. It is designed for Common Cathode type OLED panel. ER-OLEDM1.09-1W-SPI is a White 1.09" OLED Display Panel with Breakout Board. This module is a combination of the two.(controller and OLED)</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">pin no   </th><th class="markdownTableHeadNone">pin name   </th><th class="markdownTableHeadNone">pin desc    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">1   </td><td class="markdownTableBodyNone">Gnd   </td><td class="markdownTableBodyNone">Ground    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">2   </td><td class="markdownTableBodyNone">VCC   </td><td class="markdownTableBodyNone">voltage supply    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">3   </td><td class="markdownTableBodyNone">SCL   </td><td class="markdownTableBodyNone">Serial clock input    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">4   </td><td class="markdownTableBodyNone">SDA   </td><td class="markdownTableBodyNone">Serial data input    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">5   </td><td class="markdownTableBodyNone">RES   </td><td class="markdownTableBodyNone">This pin is reset signal input. When the pin is low, initialization of the chip is executed.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">6   </td><td class="markdownTableBodyNone">DC   </td><td class="markdownTableBodyNone">This pin is Data or Command control pin.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">7   </td><td class="markdownTableBodyNone">CS   </td><td class="markdownTableBodyNone">This pin is chip select input. The chip is enabled for MCU comms when CS is pulled low   </td></tr>
</table>
<p>This wiring Diagram from the manufacturer datasheet showing hardware setup connected to a 3.3 volt system MCU.</p>
<p><img src="https://github.com/gavinlyonsrepo/ER_OLEDM1_CH1115/blob/main/extras/image/wiring.jpg" alt=" wiring " class="inline"/></p>
<h2>Software</h2>
<h3>API Documentation</h3>
<p>The Software is commented mostly for "doxygen" and if users uses "doxygen" software an API document can be generated. A Doxyfile is in "doc" sub folder in repository.</p>
<h3>SPI</h3>
<p>Hardware SPI. The hardware SPI speed is set at 8MHz you can increase this if necessary by changing OLEDbegin method arguments. Spi0 is used in example files but can be changed by passing a different SPI channel.</p>
<h3>Fonts</h3>
<p>There are 10 fonts packaged with library. Fonts can be easily added or removed by user. All the Font data is in file SSD1306_OLED_font.cpp and SSD1306_OLED_font.hpp</p>
<p>Font data table:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">num   </th><th class="markdownTableHeadNone">Font pointer name   </th><th class="markdownTableHeadNone">character size XxY   </th><th class="markdownTableHeadNone">ASCII range   </th><th class="markdownTableHeadNone">Size in bytes    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">1   </td><td class="markdownTableBodyNone">pFontDefault   </td><td class="markdownTableBodyNone">6x8   </td><td class="markdownTableBodyNone">0 - 0xFE, Full Extended   </td><td class="markdownTableBodyNone">1534    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">2   </td><td class="markdownTableBodyNone">pFontWide   </td><td class="markdownTableBodyNone">9x8   </td><td class="markdownTableBodyNone">0x20 - 0x5A, NO lowercase letters   </td><td class="markdownTableBodyNone">535    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">3   </td><td class="markdownTableBodyNone">pFontPico   </td><td class="markdownTableBodyNone">4x6   </td><td class="markdownTableBodyNone">0x20 - 0x7E   </td><td class="markdownTableBodyNone">289    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">4   </td><td class="markdownTableBodyNone">pFontSinclairS   </td><td class="markdownTableBodyNone">8x8   </td><td class="markdownTableBodyNone">0x20 - 0x7E   </td><td class="markdownTableBodyNone">764    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">5   </td><td class="markdownTableBodyNone">pFontMega   </td><td class="markdownTableBodyNone">16x16   </td><td class="markdownTableBodyNone">0x20 - 0x7E   </td><td class="markdownTableBodyNone">3044    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">6   </td><td class="markdownTableBodyNone">pFontArialBold   </td><td class="markdownTableBodyNone">16x16   </td><td class="markdownTableBodyNone">0x20 - 0x7E   </td><td class="markdownTableBodyNone">3044    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">7   </td><td class="markdownTableBodyNone">pFontHallfetica   </td><td class="markdownTableBodyNone">16x16   </td><td class="markdownTableBodyNone">0x20 - 0x7E   </td><td class="markdownTableBodyNone">3044    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">8   </td><td class="markdownTableBodyNone">pFontArialRound   </td><td class="markdownTableBodyNone">16x24   </td><td class="markdownTableBodyNone">0x20 - 0x7E   </td><td class="markdownTableBodyNone">4564    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">9   </td><td class="markdownTableBodyNone">pFontGroTesk   </td><td class="markdownTableBodyNone">16x32   </td><td class="markdownTableBodyNone">0x20 - 0x7A   </td><td class="markdownTableBodyNone">5828    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">10   </td><td class="markdownTableBodyNone">pFontSixteenSeg   </td><td class="markdownTableBodyNone">32x48   </td><td class="markdownTableBodyNone">0x2D-0x3A , 0-10 : . / - only   </td><td class="markdownTableBodyNone">2692   </td></tr>
</table>
<p>Font size in bytes = ((X * (Y/8)) * numberOfCharacters) + (4*ControlByte)</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Font class Function   </th><th class="markdownTableHeadNone">Notes    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">writeChar   </td><td class="markdownTableBodyNone">draws single character    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">writeCharString   </td><td class="markdownTableBodyNone">draws character array    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">print   </td><td class="markdownTableBodyNone">Polymorphic print class which will print out many data types   </td></tr>
</table>
<p>These methods return an error code in event of an error such as, ASCII character outside chosen fonts range, character out of screen bounds and invalid character array pointer object.</p>
<p><b>Remove a font</b></p>
<p>To remove an unwanted font from project simply comment out or delete.</p>
<ol type="1">
<li>The Font data in SSD1306_OLED_font.cpp file</li>
<li>The pointer to font at bottom of SSD1306_OLED_font.cpp file</li>
<li>The associated extern pointer declaration in the SSD1306_OLED_font.hpp file</li>
</ol>
<p><b>Adding a new font</b></p>
<ol type="1">
<li>Add the Font data in SSD1306_OLED_font.cpp file</li>
<li>Add a pointer to font at bottom of SSD1306_OLED_font.cpp file</li>
<li>Add an associated extern pointer declaration in the SSD1306_OLED_font.hpp file</li>
</ol>
<p>The new ASCII font must have following font structure. First 4 bytes are control bytes followed by vertically addressed font data.</p>
<div class="fragment"><div class="line">// An 4 by 8 character size font starting at </div>
<div class="line">// ASCII offset 0x30 in ASCII table with 0x02 characters in font. </div>
<div class="line">// 0 and 1 </div>
<div class="line">static const uint8_t FontBinaryExample[] =</div>
<div class="line">{</div>
<div class="line">0x04, 0x08, 0x30, 0x02,   // x-size, y-size, offset, total characters</div>
<div class="line">(data),(data),(data),(data) // font data &#39;0&#39;</div>
<div class="line">(data),(data),(data),(data) // font data &#39;1&#39;</div>
<div class="line">}</div>
</div><!-- fragment --><p>Some of the fonts packaged with library came from <a href="http://rinkydinkelectronics.com/">URL</a>. If user has picture of a font like so.</p>
<p><img src="https://github.com/gavinlyonsrepo/SSD1306_OLED_PICO/blob/main/extra/image/hallfetica_normal.png" alt=" font " class="inline"/></p>
<p>There is a monochrome font maker there at <a href="http://rinkydinkelectronics.com/t_make_font_file_mono.php">URL</a></p>
<h3>Bitmaps</h3>
<p>OLEDBitmap function will return an error if : The Bitmap is completely off screen , Invalid Bitmap pointer object, bitmap bigger than screen , bitmap bigger/smaller than provided width and height calculation ( This helps prevents buffer overflow). A horizontal addressed Bitmap's width MUST be divisible by 8. eg, for a bitmap with width=88 and height=48. Bitmap excepted size = (88/8) * 48 = 528 bytes.</p>
<p>Bitmaps can be turned to data <a href="https://javl.github.io/image2cpp/">here at link</a> See example file "_BITMAP" for more details.</p>
<h3>User adjustments</h3>
<p>When the user calls OLEDinit() to start OLED they can specify a contrast setting from 0x00 to 0xFF. Datasheet says 0x80 is default. User can also change contrast on the fly. Screen can be disabled to enter a sleep type mode where OLED draws 500uA. Screen pixel colour can be inverted and also screen can be vertically rotated.</p>
<p>There is a "fade or breath display effect". Whose parameters(time brightness) can be adjusted by passing data to function see "OLEDfadeEffect" function header in .cpp and datasheet for details. default is 0x81.</p>
<p>There is a Horizontal scroll effect. Whose parameters: Time-interval , direction , mode, can be adjusted by passing data to function see "OLEDscrollSetup" function header in .cpp and datasheet for details. defaults are : 6 frames , right , continuous mode.</p>
<h2>Files system</h2>
<p>X = ER_OLEDM1_CH1115 in tables below</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Src Files   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">X.hpp   </td><td class="markdownTableBodyNone">library header file    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">X.cpp   </td><td class="markdownTableBodyNone">library source file    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">X_graphics.hpp   </td><td class="markdownTableBodyNone">graphics header file    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">X_graphics.cpp   </td><td class="markdownTableBodyNone">graphics source file    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">X_font.hpp   </td><td class="markdownTableBodyNone">font header file    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">X_font.cpp   </td><td class="markdownTableBodyNone">font data file    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">X_print.hpp   </td><td class="markdownTableBodyNone">used for printing data types    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">X_print.cpp   </td><td class="markdownTableBodyNone">used for printing data types   </td></tr>
</table>
<p>The example files are in example folder. To build the one you want, edit the Cmaketxt file add_executable(${PROJECT_NAME} section, comment in one example file path and one only. The default is the Hello world one.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Examples files main.cpp   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">X_HELLO   </td><td class="markdownTableBodyNone">Hello world , Basic usage    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">X_FPS_FUNCTIONS   </td><td class="markdownTableBodyNone">FPS test &amp; misc functions, rotate , scroll, etc    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">X_TEXT_GRAPHICS   </td><td class="markdownTableBodyNone">Fonts + graphics    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">X_BITMAP   </td><td class="markdownTableBodyNone">Shows use of bitmaps methods   </td></tr>
</table>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
